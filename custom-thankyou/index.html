<html>
  <head>
    <title>
      How to adjust quantity and custom fields manually
    </title>

    <script 
        src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"    
        type="text/javascript"></script>

    <script type="text/javascript" 
        id="snipcart" 
        data-api-key="YjdiNWIyOTUtZTIyMy00MWMwLTkwNDUtMzI1M2M2NTgxYjE0" 
        src="https://app.snipcart.com/scripts/snipcart.js"></script>

    <link id="snipcart-theme" type="text/css"
        href="https://app.snipcart.com/themes/base/snipcart.css" 
        rel="stylesheet">
  </head>

  <body>
    <nav>
      <span class="snipcart-summary">
          Number of items: <span class="snipcart-total-items"></span>
          Total price: <span class="snipcart-total-price"></span>
      </span>
      
      <a href="#" class="snipcart-checkout">View cart</a>
    </nav>
   
    <p>
      <button type="button"
        class="snipcart-add-item"
        data-item-name="Bacon"
        data-item-price="10"
        data-item-id="BACON"
        data-item-url="/update-quantity-manually"
        data-item-custom1-name="Size"
        data-item-custom1-options="Small|Medium|Large"
        data-item-weight="20">Buy it now</button>
    </p>

    <script type="text/javascript">
      $(function() {
        Snipcart.subscribe('order.completed', function (order) {
            var args = {
                name: order.billingAddress.name,
                revenue: order.grandTotal,
                txId: order.invoiceNumber,
                email: order.email
            };
            
            var query = [];
            
            Object.keys(args).forEach(function (a) {
                query.push(a + "=" + encodeURIComponent(args[a]));
            });
            
            window.location.href = '/custom-thankyou?' + query.join('&')
        });
      });
    </script>
  </body>
</html>